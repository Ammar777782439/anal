# Clean Architecture في Go
## شرح المصطلحات الإضافية:

عادةً ما تشير هذه الأسماء إلى حزم (packages) أو أنواع من الـ structs تؤدي وظائف محددة:

1. **`utls` (اختصار لـ Utilities) أو `help` (Helpers):**
    
    - **ما هي؟** هذه الحزم تحتوي على دوال مساعدة عامة وشائعة الاستخدام يمكن أن تحتاجها في أماكن متعددة من تطبيقك. هذه الدوال لا تنتمي بشكل مباشر إلى منطق العمل الأساسي (business logic) لميزة معينة، بل تقدم خدمات عامة.
    - **أمثلة:** دوال للتعامل مع التواريخ والأوقات، دوال لتعديل النصوص (string manipulation)، دوال للتحقق من صحة تنسيق معين (مثل بريد إلكتروني بسيط أو رقم هاتف قبل إرساله إلى منطق تحقق أعمق)، أو أي وظيفة صغيرة متكررة.
    - **في مشروعك:** قد يكون لديك `utls` عام، أو قد تكون لديك دوال مساعدة خاصة بكل طبقة (مثلاً، دوال مساعدة للتعامل مع GORM داخل طبقة `repository` إذا لزم الأمر).
2. **`request` و `response`:**
    
    - **ما هي؟** هذه عادةً ما تكون structs تُستخدم لتعريف شكل البيانات المُرسَلة في طلبات HTTP الواردة (requests) والبيانات المُرسَلة في استجابات HTTP الصادرة (responses).
    - **مكانها غالبًا:** في طبقة `handlers` (أو بالقرب منها). عندما يستقبل الـ handler طلبًا لإنشاء مقال جديد، قد يفك ترميز جسم الطلب (request body) إلى `struct` اسمه مثلاً `CreateArticleRequest`. وعندما يُرسل الـ handler استجابة، قد يبني `struct` اسمه `ArticleResponse` أو `SuccessResponse`.
    - **الفائدة:**
        - **التحقق من المدخلات (Validation):** يمكنك بسهولة التحقق من صحة البيانات في `request struct` قبل تمريرها إلى طبقة `usecase`.
        - **وضوح العقود (API Contracts):** تحدد بوضوح شكل البيانات المتوقعة والمُرسَلة من الـ API الخاص بك.
        - **فصل الاهتمامات:** تفصل شكل بيانات النقل (data transfer objects - DTOs) عن نماذج قاعدة البيانات (`models.Article`). نموذج قاعدة البيانات قد يحتوي على حقول أكثر أو مختلفة عن تلك التي تعرضها في الـ API.
    - **في مشروعك:** في `articleHandler.CreateArticle`، بدلاً من قراءة الحقول مباشرة من `fiber.Ctx` وتمريرها، يمكنك أولاً فك ترميزها إلى `CreateArticleRequest struct`.
3. **`role`:**
    
    - **ما هي؟** تشير عادةً إلى **أدوار المستخدمين والصلاحيات (User Roles and Permissions)** في نظامك. هذا جزء أساسي من نظام المصادقة (Authentication) والتحكم في الوصول (Authorization).
    - **أمثلة:** `struct Role { ID uint; Name string }`، وقد يكون لديك أدوار مثل "admin", "editor", "viewer". ثم يمكنك تحديد ما هي العمليات المسموح بها لكل دور.
    - **في مشروعك:** إذا كان تطبيق المقالات الخاص بك سيدعم مستخدمين مختلفين بصلاحيات مختلفة (مثلاً، البعض يكتب والبعض يراجع فقط)، فستحتاج إلى تصميم نماذج (`models`) للأدوار والمستخدمين، ومنطق في `usecase` وربما middleware في `handlers` للتحقق من هذه الصلاحيات.
4. **`assert`:**
    
    - **ما هي؟** هذا المصطلح يرتبط بشكل كبير **بالاختبار (Testing)**، وتحديدًا **التأكيدات (Assertions)**.
    - **الاستخدام:** عند كتابة اختبارات الوحدات (unit tests) أو اختبارات التكامل (integration tests) للكود الخاص بك، تستخدم دوال الـ assert للتأكد من أن النتائج الفعلية للكود تتطابق مع النتائج المتوقعة.
    - **أمثلة:** `assert.Equal(t, expectedValue, actualValue)`، `assert.NoError(t, err)`، `assert.NotNil(t, pointer)`. (حيث `t` هو كائن الاختبار من حزمة `testing` في Go).
    - **في مشروعك:** عندما تكتب اختبارات لدوال الـ `repository` أو `usecase`، ستستخدم دوال assert للتحقق من صحة عملها. هذه ليست جزءًا من الكود الرئيسي للتطبيق الذي يُشغَّل، بل جزء من كود الاختبار.